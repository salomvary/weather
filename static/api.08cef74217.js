export async function fetchWeather(t){return fetchApi(getApiUrl(t))}async function fetchApi(t){const e=await fetch(t);if(e.ok){const t=await e.text();return JSON.parse(t,function(t,e){return"time"===t&&"number"==typeof e?new Date(1e3*e):e})}throw new Error(`Unexpected response status when fetching weather: ${e.status}`)}function getApiUrl({lat:t,lon:e}){return`https://darksky-proxy.herokuapp.com/${t},${e}?units=si`}